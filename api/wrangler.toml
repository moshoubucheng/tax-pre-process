name = "tax-api"
main = "src/index.ts"
compatibility_date = "2024-11-01"
compatibility_flags = ["nodejs_compat"]

# 开发环境变量（生产环境使用 wrangler secret）
[vars]
ENVIRONMENT = "development"

# D1 数据库绑定
[[d1_databases]]
binding = "DB"
database_name = "tax-db"
database_id = "26b6b091-ebcf-4a3e-8efb-2baf5f69a3b5"

# R2 存储桶绑定
[[r2_buckets]]
binding = "BUCKET"
bucket_name = "tax-receipts"

# 生产环境需要配置的 Secrets (通过 wrangler secret put):
# - CLAUDE_API_KEY
# - JWT_SECRET
